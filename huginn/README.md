# Huginn Deployment for ANIDHI Personal Branding Platform

This directory contains the configuration and deployment scripts for Huginn, a powerful automation platform that will serve as our data ingestion layer.

## 🎯 What is Huginn?

Huginn is a system for building agents that perform automated tasks for you online. It can:
- Monitor websites for changes
- Scrape web content and RSS feeds
- Send notifications and alerts
- Process and transform data
- Integrate with external APIs (like our MCP servers)

## 🚀 Quick Deployment

1. **Run the deployment script:**
   ```bash
   cd huginn
   ./huginn-deploy.sh
   ```

2. **Follow the instructions** to deploy on Render.com

3. **Create your admin account** using the generated invitation code

## 📁 Files Overview

- `Dockerfile` - Docker configuration optimized for Render.com
- `render.yaml` - Render.com deployment configuration
- `.env.example` - Environment variables template
- `huginn-deploy.sh` - Automated deployment script
- `README.md` - This documentation

## 🔧 Configuration

### Required Environment Variables

| Variable | Description | Example |
|----------|-------------|---------|
| `DATABASE_URL` | PostgreSQL connection string | `postgresql://user:pass@host:port/db` |
| `SECRET_KEY_BASE` | Rails secret key | Generated by script |
| `HUGINN_INVITATION_CODE` | Registration code | Generated by script |
| `HUGINN_DOMAIN` | Your Huginn domain | `anidhi-huginn.onrender.com` |
| `MCP_WEB_SEARCH_URL` | MCP server URL | `https://anidhi-mcp-web-search.onrender.com` |
| `MCP_API_KEY` | MCP server API key | Same as MCP deployment |

### Optional Configuration

- **Email/SMTP**: For notifications and alerts
- **Timezone**: Default is UTC
- **User Agent**: Custom user agent for web scraping

## 🤖 Planned Agents

Once deployed, we'll create these agents for personal branding:

### 1. Web Scraping Agents
- **Competitor Analysis**: Monitor competitor websites
- **Industry News**: Track industry publications
- **Trend Detection**: Identify emerging trends

### 2. RSS Feed Agents
- **News Aggregation**: Collect relevant news articles
- **Blog Monitoring**: Track influential blogs
- **Content Discovery**: Find content opportunities

### 3. MCP Integration Agents
- **Web Search Agent**: Use our deployed MCP server
- **Data Processing**: Transform and analyze data
- **Notification Agent**: Send alerts and updates

### 4. Social Media Monitoring
- **Brand Mentions**: Track mentions across platforms
- **Hashtag Monitoring**: Monitor relevant hashtags
- **Sentiment Analysis**: Analyze brand sentiment

## 🔗 Integration with ANIDHI Platform

Huginn will integrate with our platform through:

1. **Webhook Endpoints**: Send data to our Node.js backend
2. **MCP Servers**: Use our deployed MCP services
3. **Database**: Store processed data for analysis
4. **Real-time Updates**: Push notifications to frontend

## 📊 Monitoring and Maintenance

- **Health Checks**: Automatic health monitoring
- **Logs**: Centralized logging via Render
- **Alerts**: Email notifications for failures
- **Backups**: Database backups via Render

## 🆓 Free Tier Limitations

- **RAM**: 512 MB (sufficient for automation)
- **Sleep**: Service sleeps after 15 minutes inactivity
- **Database**: 256 MB PostgreSQL (renewable every 30 days)
- **Cold Start**: 60-90 seconds wake-up time

## 🔒 Security Considerations

- **Invitation Code**: Required for user registration
- **HTTPS**: All traffic encrypted via Render
- **Environment Variables**: Secrets stored securely
- **Database**: Encrypted PostgreSQL database

## 📚 Next Steps

After deployment:

1. **Create Admin Account**: Use invitation code
2. **Configure First Agent**: Test basic functionality
3. **MCP Integration**: Connect to our MCP server
4. **Web Scraping Setup**: Create monitoring agents
5. **Webhook Integration**: Connect to ANIDHI backend

## 🆘 Troubleshooting

### Common Issues

1. **Database Connection**: Ensure DATABASE_URL is correct
2. **Memory Issues**: Monitor RAM usage in Render dashboard
3. **Cold Starts**: First request after sleep takes time
4. **Agent Failures**: Check logs in Huginn interface

### Support Resources

- [Huginn Wiki](https://github.com/huginn/huginn/wiki)
- [Render Documentation](https://render.com/docs)
- [ANIDHI Project Documentation](../docs/)

---

**Ready to deploy?** Run `./huginn-deploy.sh` and follow the instructions!